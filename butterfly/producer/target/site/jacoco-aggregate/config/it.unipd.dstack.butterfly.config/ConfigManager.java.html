<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>ConfigManager.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">JaCoCo</a> &gt; <a href="../index.html" class="el_bundle">config</a> &gt; <a href="index.source.html" class="el_package">it.unipd.dstack.butterfly.config</a> &gt; <span class="el_source">ConfigManager.java</span></div><h1>ConfigManager.java</h1><pre class="source lang-java linenums">package it.unipd.dstack.butterfly.config;

import java.util.Optional;
import java.util.function.Function;

public final class ConfigManager {

    private ConfigManager() {}

    /**
     *
     * @param property
     * @return
     */
    public static String getStringProperty(String property) {
<span class="nc" id="L16">        return getEnv(property, null);</span>
    }

    /**
     *
     * @param property
     * @return
     */
    public static String getStringProperty(String property, String defaultProperty) {
<span class="nc" id="L25">        return getEnv(property, defaultProperty);</span>
    }

    /**
     *
     * @param property
     * @return
     */
    public static boolean getBooleanProperty(String property) {
<span class="nc" id="L34">        return getBooleanProperty(property, null);</span>
    }

    /**
     *
     * @param property
     * @param defaultProperty
     * @return
     */
    public static boolean getBooleanProperty(String property, Boolean defaultProperty) {
<span class="nc" id="L44">        return getEnv(property, defaultProperty, stringToBooleanMapper);</span>
    }

    /**
     *
     * @param property
     * @return
     */
    public static int getIntProperty(String property) {
<span class="nc" id="L53">        return getIntProperty(property, null);</span>
    }



    /**
     *
     * @param property
     * @param defaultProperty
     * @return
     */
    public static int getIntProperty(String property, Integer defaultProperty) {
<span class="nc" id="L65">        return getEnv(property, defaultProperty, stringToIntegerMapper);</span>
    }

<span class="nc" id="L68">    private static Function&lt;String, Boolean&gt; stringToBooleanMapper = (String str) -&gt; Boolean.valueOf(str);</span>
<span class="nc" id="L69">    private static Function&lt;String, Integer&gt; stringToIntegerMapper = (String str) -&gt; Integer.valueOf(str);</span>

    /**
     * Returns the value of the environment variable specified by &lt;code&gt;property&lt;/code&gt;. If it's not set, it returns
     * &lt;code&gt;defaultProperty&lt;/code&gt;.
     *
     * @param property the name of the environment variable
     * @param defaultProperty the value to be returned if &lt;code&gt;property&lt;/code&gt; is not defined in the system environment
     * @return the string value of the variable, or &lt;code&gt;defaultProperty&lt;/code&gt; if the variable is not defined in the
     * system environment, or &lt;code&gt;null&lt;/code&gt; if &lt;code&gt;defaultProperty&lt;/code&gt; is null.
     */
    private static String getEnv(String property, String defaultProperty) {
<span class="nc" id="L81">        return getEnv(property, defaultProperty, Function.identity());</span>
    }

    /**
     * Returns the value of the environment variable specified by &lt;code&gt;property&lt;/code&gt;. If it's not set, it returns
     * &lt;code&gt;defaultProperty&lt;/code&gt; with type &lt;code&gt;T&lt;/code&gt;.
     *
     * @param &lt;T&gt; The type of the result of the mapping function
     * @param property the name of the environment variable
     * @param defaultProperty the value to be returned if &lt;code&gt;property&lt;/code&gt; is not defined in the system environment
     * @param mapper function used to cast a variable to the desired type &lt;code&gt;T&lt;/code&gt;
     * @return the value of the variable casted to type &lt;code&gt;T&lt;/code&gt;, or &lt;code&gt;defaultProperty&lt;/code&gt; if the
     * variable is not defined in the system environment, or &lt;code&gt;null&lt;/code&gt; if &lt;code&gt;defaultProperty&lt;/code&gt; is null.
     *
     * @throws NullPointerException if the mapping function is null
     */
    private static &lt;T&gt; T getEnv(String property, T defaultProperty, Function&lt;String, T&gt; mapper) {
<span class="nc" id="L98">        return Optional.ofNullable(System.getenv(property))</span>
<span class="nc" id="L99">                .map(mapper)</span>
<span class="nc" id="L100">                .orElse(defaultProperty);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>Code Coverage Report for JaCoCo 1.0-SNAPSHOT</div></body></html>